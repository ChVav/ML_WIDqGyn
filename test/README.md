This is a mess, but will eventually be a structured way to test things